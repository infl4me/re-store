(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(51)},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(26),l=a.n(c),o=a(10),i=a(9),u=a(7),s=r.a.createContext(),m=s.Provider,E=s.Consumer,d=function(){return function(e){return function(t){return r.a.createElement(E,null,function(a){return r.a.createElement(e,Object.assign({},t,{bookstoreService:a}))})}}},b=function(){return r.a.createElement("div",null,"cart")},f=a(8),p=a(16),h=a(18),_=a(17),g=a(19),v=(a(38),function(e){var t=e.book,a=t.title,n=t.author,c=t.price,l=t.coverImage;return r.a.createElement("li",{className:"item"},r.a.createElement("div",{className:"item__img-box"},r.a.createElement("img",{src:l,alt:"book",className:"item__img"})),r.a.createElement("div",{className:"item__box"},r.a.createElement("h3",{className:"item__title"},a),r.a.createElement("div",{className:"item__author"},n),r.a.createElement("div",{className:"item__price"},"$".concat(c)),r.a.createElement("button",{className:"btn btn-blue item__btn",type:"button"},"Add to cart")))}),O=(a(39),function(){return r.a.createElement("div",{className:"lds-css spinner ng-scope"},r.a.createElement("div",{className:"lds-rolling"},r.a.createElement("div",null),r.a.createElement("div",null)))}),k=(a(40),function(){return r.a.createElement("div",{className:"error-indicator"},r.a.createElement("span",{className:"boom"},"BOOM!"),r.a.createElement("span",null,"something has gone wrong"))}),N=k,y=function(e,t){return function(){e({type:"FETCH_BOOKS_REQUEST"}),t.getBooks().then(function(t){return e({type:"FETCH_BOOKS_SUCCESS",payload:t})}).catch(function(t){return e(function(e){return{type:"FETCH_BOOKS_FAILURE",payload:e}}(t))})}},j=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}},S=(a(41),function(e){var t=e.books.map(function(e){return r.a.createElement(v,{key:e.id,book:e})});return r.a.createElement("ul",{className:"item-list__list"},t)}),C=function(e){function t(){return Object(f.a)(this,t),Object(h.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchData)()}},{key:"render",value:function(){var e=this.props,t=e.books,a=e.error,n=e.loading;return r.a.createElement("div",{className:"item-list"},n&&r.a.createElement(O,null),a&&r.a.createElement(N,null),!n&&!a&&r.a.createElement(S,{books:t}))}}]),t}(r.a.Component),I=j(d(),Object(o.b)(function(e){return{books:e.books,loading:e.loading,error:e.error}},function(e,t){var a=t.bookstoreService;return{fetchData:y(e,a)}}))(C),T=(a(42),Object(o.b)(function(e){return{items:e.cartItems,orderTotal:e.orderTotal}},function(){return{onIncrease:function(e){return console.log("increase ".concat(e))},onDecrease:function(e){return console.log("decrease ".concat(e))},onDelete:function(e){return console.log("delete ".concat(e))}}})(function(e){var t=e.items,a=e.onIncrease,n=e.onDecrease,c=e.onDelete,l=e.orderTotal;return r.a.createElement("div",{className:"cart-table"},r.a.createElement("h2",{className:"cart-table__title"},"Your Order"),r.a.createElement("table",{className:"cart-table__table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Item"),r.a.createElement("th",null,"Count"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,t.map(function(e,t){var l=e.id,o=e.name,i=e.count,u=e.total;return r.a.createElement("tr",{key:l},r.a.createElement("td",null,t+1),r.a.createElement("td",null,o),r.a.createElement("td",null,i),r.a.createElement("td",null,u),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return a(l)},type:"button",className:"btn btn-plus"},r.a.createElement("span",{className:"fa fa-plus-circle"})),r.a.createElement("button",{onClick:function(){return n(l)},type:"button",className:"btn btn-minus"},r.a.createElement("span",{className:"fa fa-minus-circle"})),r.a.createElement("button",{onClick:function(){return c(l)},type:"button",className:"btn btn-trash"},r.a.createElement("span",{className:"fa fa-trash-o"}))))}))),r.a.createElement("div",{className:"cart-table__total"},"Total: $".concat(l)))})),w=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null),r.a.createElement(T,null))},B=(a(43),function(e){var t=e.numItems,a=e.total;return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header__logo"},r.a.createElement(i.b,{className:"header__logo-link",to:"/"},"ReStore")),r.a.createElement("div",null,r.a.createElement("span",{className:"header__cart-icon fa fa-shopping-cart"}),r.a.createElement(i.b,{className:"header__cart-link",to:"/cart"}," ".concat(t," items ($").concat(a,")"))))}),F=(a(49),d()(function(){return r.a.createElement("div",{className:"app"},r.a.createElement(B,{numItems:5,total:210}),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/",component:w,exact:!0}),r.a.createElement(u.a,{path:"/cart",component:b})))})),R=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={hasError:!1},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(k,null):this.props.children}}]),t}(n.Component),D=a(15),A=a(20),H={books:[],loading:!0,error:null,cartItems:[{id:1,name:"book 1",count:2,total:100},{id:2,name:"book 2",count:1,total:45}],orderTotal:145},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_BOOKS_REQUEST":return Object(A.a)({},e,{loading:!0,books:[],error:null});case"FETCH_BOOKS_SUCCESS":return Object(A.a)({},e,{books:t.payload,loading:!1,error:null});case"FETCH_BOOKS_FAILURE":return Object(A.a)({},e,{books:[],loading:!1,error:t.payload});default:return e}},U=Object(D.b)(K),x=(a(50),new function e(){var t=this;Object(f.a)(this,e),this.data=[{id:1,title:"Production-Ready Microservices",author:"Susan J. Fowler",price:32,coverImage:"https://images-na.ssl-images-amazon.com/images/I/41yJ75gpV-L._SX381_BO1,204,203,200_.jpg"},{id:2,title:"Release It!",author:"Michael T. Nygard",price:45,coverImage:"https://images-na.ssl-images-amazon.com/images/I/414CRjLjwgL._SX403_BO1,204,203,200_.jpg"}],this.getBooks=function(){return new Promise(function(e,a){setTimeout(function(){e(t.data)},700)})}});l.a.render(r.a.createElement(o.a,{store:U},r.a.createElement(R,null,r.a.createElement(m,{value:x},r.a.createElement(i.a,null,r.a.createElement(F,null))))),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.f22a81ea.chunk.js.map