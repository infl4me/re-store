{"version":3,"sources":["components/bookstore-service-context/bookstore-service-context.js","components/hoc/with-bookstore-service.js","components/pages/cart-page.js","components/item-details/index.js","components/item-details/item-details.js","utils/compose.js","components/item-list/item-list.js","actions/index.js","components/item-list/index.js","components/pages/home-page.js","components/header/index.js","components/header/header.js","components/app/index.js","components/app/app.js","components/error-indicator/error-indicator.js","components/error-boundary/index.js","components/error-boundary/error-boundary.js","reducers/index.js","store.js","index.js","services/bookstore-service.js"],"names":["React","createContext","BookstoreServiceProvider","Provider","BookstoreServiceConsumer","Consumer","withBookstoreService","Wrapped","props","react_default","a","createElement","bookstoreService","Object","assign","CartPage","ItemDetails","_ref","book","title","author","price","coverImage","className","src","alt","concat","type","compose","_len","arguments","length","funcs","Array","_key","comp","reduceRight","wrapped","f","ItemList","_this$props","this","getBooks","booksLoaded","then","data","items","books","map","item","components_item_details","key","id","Component","mapDispatchToProps","newBooks","payload","connect","HomePage","components_item_list","Header","numItems","total","react_router_dom","to","App","components_header","react_router","path","component","exact","ErrorIndicator","ErrorBoundary","state","hasError","setState","error_indicator_error_indicator","children","initialState","reducer","undefined","action","store","createStore","Promise","resolve","setTimeout","_this","ReactDOM","render","es","error_boundary","value","components_app","document","getElementById"],"mappings":"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","file":"static/js/main.8282316b.chunk.js","sourcesContent":["import React from 'react';\n\nconst {\n  Provider: BookstoreServiceProvider,\n  Consumer: BookstoreServiceConsumer,\n} = React.createContext();\n\nexport {\n  BookstoreServiceProvider,\n  BookstoreServiceConsumer,\n};\n","import React from 'react';\nimport { BookstoreServiceConsumer } from '../bookstore-service-context';\n\nconst withBookstoreService = () => Wrapped => props => (\n  <BookstoreServiceConsumer>\n    {\n          bookstoreService => (<Wrapped {...props} bookstoreService={bookstoreService} />)\n        }\n  </BookstoreServiceConsumer>\n);\n\nexport default withBookstoreService;\n","import React from 'react';\n\nconst CartPage = () => (\n  <div>cart</div>\n);\n\nexport default CartPage;\n","import ItemDetails from './item-details';\n\nexport default ItemDetails;\n","import React from 'react';\nimport './item-details.css';\n\nconst ItemDetails = ({ book }) => {\n  const {\n    title, author, price, coverImage,\n  } = book;\n  return (\n    <li className=\"item\">\n      <div className=\"item__img-box\">\n        <img src={coverImage} alt=\"book\" className=\"item__img\" />\n      </div>\n      <div className=\"item__box\">\n        <h3 className=\"item__title\">{title}</h3>\n        <div className=\"item__author\">{author}</div>\n        <div className=\"item__price\">{`$${price}`}</div>\n        <button className=\"btn btn-blue item__btn\" type=\"button\">Add to cart</button>\n      </div>\n    </li>\n  );\n};\n\nexport default ItemDetails;\n","const compose = (...funcs) => comp => funcs.reduceRight(\n  (wrapped, f) => f(wrapped), comp,\n);\n\nexport default compose;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport ItemDetails from '../item-details';\nimport { withBookstoreService } from '../hoc';\nimport { booksLoaded } from '../../actions';\nimport { compose } from '../../utils';\nimport './item-list.css';\n\nclass ItemList extends React.Component {\n  componentDidMount() {\n    const { bookstoreService: { getBooks }, booksLoaded } = this.props;\n    getBooks()\n      .then((data) => {\n        booksLoaded(data);\n      });\n  }\n\n  render() {\n    const { books } = this.props;\n    const items = books.map(item => <ItemDetails key={item.id} book={item} />);\n    return (\n      <ul>{items}</ul>\n    );\n  }\n}\n\nconst mapStateToProps = ({ books }) => ({ books });\n\nconst mapDispatchToProps = { booksLoaded };\n\nexport default compose(\n  withBookstoreService(),\n  connect(mapStateToProps, mapDispatchToProps),\n)(ItemList);\n","const booksLoaded = newBooks => ({\n  type: 'BOOKS_LOADED',\n  payload: newBooks,\n});\n\nexport {\n  booksLoaded,\n};\n","import ItemList from './item-list';\n\nexport default ItemList;\n","import React from 'react';\nimport ItemList from '../item-list';\n\nconst HomePage = () => (\n  <ItemList />\n);\n\nexport default HomePage;\n","import Header from './header';\n\nexport default Header;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './header.css';\n\nconst Header = ({ numItems, total }) => (\n  <header className=\"header\">\n    <div className=\"header__logo\">\n      <Link className=\"header__logo-link\" to=\"/\">ReStore</Link>\n    </div>\n    <div>\n      <span className=\"header__cart-icon fa fa-shopping-cart\" />\n      {` ${numItems} items ($${total})`}\n    </div>\n  </header>\n);\n\nexport default Header;\n","import App from './app';\n\nexport default App;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { withBookstoreService } from '../hoc';\nimport { HomePage, CartPage } from '../pages';\nimport Header from '../header';\n\nimport './app.css';\n\nconst App = () => (\n  <div className=\"app\">\n    <Header numItems={5} total={210} />\n    <Switch>\n      <Route path=\"/\" component={HomePage} exact />\n      <Route path=\"/cart\" component={CartPage} />\n    </Switch>\n  </div>\n);\n\nexport default withBookstoreService()(App);\n","import React from 'react';\n\nimport './error-indicator.css';\n\nconst ErrorIndicator = () => (\n  <div className=\"error-indicator\">\n    <span className=\"boom\">BOOM!</span>\n    <span>\n        something has gone wrong\n    </span>\n  </div>\n);\n\nexport default ErrorIndicator;\n","import ErrorBoundary from './error-boundary';\n\nexport default ErrorBoundary;\n","import React, { Component } from 'react';\n\nimport ErrorIndicator from '../error-indicator/error-indicator';\n\nexport default class ErrorBoundary extends Component {\n  state = {\n    hasError: false,\n  };\n\n  componentDidCatch() {\n    this.setState({\n      hasError: true,\n    });\n  }\n\n  render() {\n    const { hasError } = this.state;\n    if (hasError) {\n      return <ErrorIndicator />;\n    }\n\n    const { children } = this.props;\n    return children;\n  }\n}\n","const initialState = {\n  books: [],\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'BOOKS_LOADED':\n      return {\n        books: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import { createStore } from 'redux';\n\nimport reducer from './reducers';\n\nconst store = createStore(reducer);\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport App from './components/app';\nimport ErrorBoundary from './components/error-boundary';\nimport BookstoreService from './services/bookstore-service';\nimport { BookstoreServiceProvider } from './components/bookstore-service-context';\n\nimport store from './store';\n\nimport './index.css';\n\nconst bookstoreService = new BookstoreService();\nReactDOM.render(\n  <Provider store={store}>\n    <ErrorBoundary>\n      <BookstoreServiceProvider value={bookstoreService}>\n        <Router>\n          <App />\n        </Router>\n      </BookstoreServiceProvider>\n    </ErrorBoundary>\n  </Provider>,\n  document.getElementById('root'),\n);\n","\nexport default class BookstoreService {\n  data = [\n    {\n      id: 1,\n      title: 'Production-Ready Microservices',\n      author: 'Susan J. Fowler',\n      price: 32,\n      coverImage: 'https://images-na.ssl-images-amazon.com/images/I/41yJ75gpV-L._SX381_BO1,204,203,200_.jpg',\n    },\n    {\n      id: 2,\n      title: 'Release It!',\n      author: 'Michael T. Nygard',\n      price: 45,\n      coverImage: 'https://images-na.ssl-images-amazon.com/images/I/414CRjLjwgL._SX403_BO1,204,203,200_.jpg',\n    },\n  ];\n\n  getBooks = () => new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(this.data);\n    }, 0);\n  })\n}\n"],"sourceRoot":""}